var ExitIntent=function(){"use strict";function v(){return(v=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,o=arguments[e];for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t}).apply(this,arguments)}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function e(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var h="Expected a function",i=NaN,r="[object Symbol]",a=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,f=/^0b[01]+$/i,c=/^0o[0-7]+$/i,s=parseInt,n="object"==typeof t&&t&&t.Object===Object&&t,o="object"==typeof self&&self&&self.Object===Object&&self,l=n||o||Function("return this")(),d=Object.prototype.toString,w=Math.max,b=Math.min,x=function(){return l.Date.now()};function p(o,n,t){var i,r,a,u,f,c,s=0,l=!1,d=!1,e=!0;if("function"!=typeof o)throw new TypeError(h);function v(t){var e=i,n=r;return i=r=void 0,s=t,u=o.apply(n,e)}function p(t){var e=t-c;return void 0===c||n<=e||e<0||d&&a<=t-s}function g(){var t,e=x();if(p(e))return y(e);f=setTimeout(g,(e=n-((t=e)-c),d?b(e,a-(t-s)):e))}function y(t){return f=void 0,e&&i?v(t):(i=r=void 0,u)}function m(){var t=x(),e=p(t);if(i=arguments,r=this,c=t,e){if(void 0===f)return s=e=c,f=setTimeout(g,n),l?v(e):u;if(d)return f=setTimeout(g,n),v(c)}return void 0===f&&(f=setTimeout(g,n)),u}return n=E(n)||0,T(t)&&(l=!!t.leading,d="maxWait"in t,a=d?w(E(t.maxWait)||0,n):a,e="trailing"in t?!!t.trailing:e),m.cancel=function(){void 0!==f&&clearTimeout(f),i=c=r=f=void(s=0)},m.flush=function(){return void 0===f?u:y(x())},m}function T(t){var e=typeof t;return t&&("object"==e||"function"==e)}function E(t){if("number"==typeof t)return t;if("symbol"==typeof(e=t)||!!(n=e)&&"object"==typeof n&&d.call(e)==r)return i;var e,n;if("string"!=typeof(t=T(t)?T(o="function"==typeof t.valueOf?t.valueOf():t)?o+"":o:t))return 0===t?t:+t;t=t.replace(a,"");var o=f.test(t);return o||c.test(t)?s(t.slice(2),o?2:8):u.test(t)?i:+t}var g=function(t,e,n){var o=!0,i=!0;if("function"!=typeof t)throw new TypeError(h);return T(n)&&(o="leading"in n?!!n.leading:o,i="trailing"in n?!!n.trailing:i),p(t,e,{leading:o,maxWait:e,trailing:i})},t={exports:{}};o=(n=t).exports,Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(){return!("undefined"==typeof window||!("ontouchstart"in window||window.DocumentTouch&&"undefined"!=typeof document&&document instanceof window.DocumentTouch))||!("undefined"==typeof navigator||!navigator.maxTouchPoints&&!navigator.msMaxTouchPoints)},n.exports=o.default;var y={debug:!1,maxDisplays:99999,exitIntentThrottle:200,eventThrottle:200,showAfterInactiveSecondsDesktop:60,showAfterInactiveSecondsMobile:40,showAgainAfterSeconds:10,onExitIntent:function(){console.log("onExitIntent action")}},m=!e(t.exports)(),j=["scroll","mousemove","wheel"],O=["touchstart","touchend","touchmove"];return function(t){function e(){if(i.debug){for(var t,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];(t=console).log.apply(t,["[exit-intent-debug]"].concat(n))}}var n,o,i=v({},y,t=void 0===t?{}:t),r=0,a=m?i.showAfterInactiveSecondsDesktop:i.showAfterInactiveSecondsMobile,u=m?j:O,f=m?document.body:window,c=[],s=g(function(){r<i.maxDisplays&&(e("display onExitIntent",r+=1),i.onExitIntent(),r>=i.maxDisplays&&d())},1e3*i.showAgainAfterSeconds,{trailing:!1});m&&(e("register mouseleave trigger for desktop"),n=g(function(t){t instanceof MouseEvent&&(e("mouseleave trigger"),s())},i.exitIntentThrottle),f.addEventListener("mouseleave",n,!1));var l=g(t=function(){void 0!==a?(void 0!==o&&(e("clear inactivity timeout"),window.clearTimeout(o)),o=window.setTimeout(function(){e("exit intent trigger by inactivity after "+a+"s"),s()},1e3*a)):e("exit intent trigger by inactivity is disabled")},i.eventThrottle);u.forEach(function(t){e("registering event for restartTimer",{event:t,target:f}),f.addEventListener(t,l,!1),c.push({event:t,onEvent:l,target:f})});var d=function(){e("cleanup after "+r+" displays"),n&&f.removeEventListener("mouseleave",n),void 0!==o&&window.clearTimeout(o),c.forEach(function(t){var e=t.event,n=t.onEvent;t.target.removeEventListener(e,n)})};return t(),d}}();
