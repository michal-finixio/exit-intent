var ExitIntent=function(){"use strict";function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,o=arguments[t];for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var h="Expected a function",i=NaN,r="[object Symbol]",a=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,f=/^0b[01]+$/i,c=/^0o[0-7]+$/i,s=parseInt,n="object"==typeof e&&e&&e.Object===Object&&e,o="object"==typeof self&&self&&self.Object===Object&&self,l=n||o||Function("return this")(),v=Object.prototype.toString,b=Math.max,w=Math.min,x=function(){return l.Date.now()};function p(o,n,e){var i,r,a,u,f,c,s=0,d=!1,l=!1,t=!0;if("function"!=typeof o)throw new TypeError(h);function v(e){var t=i,n=r;return i=r=void 0,s=e,u=o.apply(n,t)}function p(e){var t=e-c;return void 0===c||n<=t||t<0||l&&a<=e-s}function y(){var e,t=x();if(p(t))return g(t);f=setTimeout(y,(t=n-((e=t)-c),l?w(t,a-(e-s)):t))}function g(e){return f=void 0,t&&i?v(e):(i=r=void 0,u)}function m(){var e=x(),t=p(e);if(i=arguments,r=this,c=e,t){if(void 0===f)return s=t=c,f=setTimeout(y,n),d?v(t):u;if(l)return f=setTimeout(y,n),v(c)}return void 0===f&&(f=setTimeout(y,n)),u}return n=j(n)||0,T(e)&&(d=!!e.leading,l="maxWait"in e,a=l?b(j(e.maxWait)||0,n):a,t="trailing"in e?!!e.trailing:t),m.cancel=function(){void 0!==f&&clearTimeout(f),i=c=r=f=void(s=0)},m.flush=function(){return void 0===f?u:g(x())},m}function T(e){var t=typeof e;return e&&("object"==t||"function"==t)}function j(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||!!(n=t)&&"object"==typeof n&&v.call(t)==r)return i;var t,n;if("string"!=typeof(e=T(e)?T(o="function"==typeof e.valueOf?e.valueOf():e)?o+"":o:e))return 0===e?e:+e;e=e.replace(a,"");var o=f.test(e);return o||c.test(e)?s(e.slice(2),o?2:8):u.test(e)?i:+e}var y=function(e,t,n){var o=!0,i=!0;if("function"!=typeof e)throw new TypeError(h);return T(n)&&(o="leading"in n?!!n.leading:o,i="trailing"in n?!!n.trailing:i),p(e,t,{leading:o,maxWait:t,trailing:i})},e={exports:{}};o=(n=e).exports,Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(){return!("undefined"==typeof window||!("ontouchstart"in window||window.DocumentTouch&&"undefined"!=typeof document&&document instanceof window.DocumentTouch))||!("undefined"==typeof navigator||!navigator.maxTouchPoints&&!navigator.msMaxTouchPoints)},n.exports=o.default;var g={debug:!1,maxDisplays:99999,eventThrottle:200,showAfterInactiveSecondsDesktop:60,showAfterInactiveSecondsMobile:40,showAgainAfterSeconds:10,onExitIntent:function(){}},m=!t(e.exports)(),E=["touchstart","touchend","touchmove"];return function(e){function o(){if(i.debug){for(var e,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];(e=console).log.apply(e,["[exit-intent-debug]"].concat(n))}}var t,i=d({},g,e=void 0===e?{}:e),n=0,r=m?i.showAfterInactiveSecondsDesktop:i.showAfterInactiveSecondsMobile,a=[],u=y(function(){n<i.maxDisplays&&(o("display onExitIntent",n+=1),i.onExitIntent(),n>=i.maxDisplays&&s())},1e3*i.showAgainAfterSeconds,{trailing:!1});function f(){void 0!==r?(void 0!==t&&(o("clear inactivity timeout"),window.clearTimeout(t)),t=window.setTimeout(function(){o("exit intent trigger by inactivity after "+1e3*r),u()},1e3*r)):o("exit intent trigger by inactivity is disabled")}m&&(o("register mouseleave trigger for desktop"),onMouseLeaveListener=document.body.addEventListener("mouseleave",y(function(e){e instanceof MouseEvent&&(o("mouseleave trigger"),u())},i.eventThrottle),!1));var c=m?window:document.body;E.forEach(function(e){!function(t,e){o("registering event for restartTimer",t,e);var n=e.addEventListener(t,y(function(e){o("throttled to restart timer",t),f()},i.eventThrottle),!1);a.push({event:t,listener:n,target:e})}(e,c)});var s=function(){o("cleanup after "+n+" displays"),onMouseLeaveListener&&document.body.removeEventListener("mouseleave",onMouseLeaveListener),a.forEach(function(e){var t=e.event,n=e.listener;e.target.removeEventListener(t,n)})};f()}}();
